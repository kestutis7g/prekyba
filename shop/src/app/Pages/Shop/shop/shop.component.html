<head>
  <title>Shop</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="jumbotron text-center">
    <h1>Shop</h1>

  </div>


  <div class="container">
    <div class="row mb-3">
      <div *ngFor="let item of itemList!; let i = index;" class="col-xs-2 themed-grid-col">
        <div class="parent" (click)="openItemWindow(item.id)">
          <div class="child">
            <span>
              <img src={{item.picture}} alt={{item.name}} style="width:100%">
            </span>
          </div>
        </div>

        <div class="name">
          {{item.name}}
        </div>

        <div class="price" *ngIf="(item.discount! > 0)">

          <td [ngClass]="(item.discount! > 0) ? 'strikethrough' : 'null'" style="text-align: center;">
            <div [matBadge]="item.discount +'%'" matBadgeOverlap="false" style="text-align: center;" class="stretch-badge">
              €{{item.price}}
            </div>
          </td>

          <div *ngIf="(item.discount! > 0)" class="discount">
            {{item.price! - (item.price!*item.discount!/100) | currency:'EUR':true: '1.0-2'}}
          </div>
        </div>

        <div class="price" *ngIf="(item.discount! == 0)">
          <td style="text-align: center;">
              €{{item.price}}
          </td>
        </div>








        <div *ngIf="!addedToCart?.[i]">
          <button class="cart-edit-button" mat-raised-button color="primary" (click)="addToCart(item.id)">Add to
            cart</button>
        </div>

        <div *ngIf="addedToCart?.[i]">
          <div >
            <button class="cart-edit-button m-auto" mat-mini-fab color="primary" aria-label="remove" (click)="removeFromCart(item.id)">
              <mat-icon>remove</mat-icon>
            </button>

              <label class="cart-item-txt m-0">
              {{quantityInCart(item.id)}}
            </label>

            <button class="cart-edit-button m-auto" mat-mini-fab color="primary" aria-label="add" (click)="addToCart(item.id)">
              <mat-icon>add</mat-icon>
            </button>
          </div>

        </div>




      </div>
    </div>
  </div>


</body>
